fix(historico): detalhe-dia acumula tempo na hora atual e nao preenche futuro

- Para o dia atual: corta o fim do slot no 'agora' (he_calc)
- Horas futuras retornam 0s para evitar 60 min antecipado
- Mantem comportamento normal para horas passadas e dias anteriores
