fix(historico): tempo e paradas por estado atual (streak) baseado no ultimo segmento

- Tempo Prod/Parado passam a usar apenas o ultimo segmento da hora (RUN/STOP/NP)
- Ao alternar STOP<->RUN, o tempo do estado anterior zera e passa a contar o novo estado
- Paradas vira indicador do estado atual (STOP=1, RUN/NP=0)
