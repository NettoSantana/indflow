fix(machine): anchor baseline on first update for new machines and use device_helpers

- Use modules/machine/device_helpers.py for MAC + last_seen + device->machine lookup
- On first update without baseline for the day, set baseline_esp=esp_absoluto and zero logical production
- Keep all existing routes intact
