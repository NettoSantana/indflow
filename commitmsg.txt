feat(machine): persistir rastro de estado (RUN/STOP/NP) no /machine/status

- Cria tabela machine_state_event (SQLite) e indices
- Salva transicoes de estado para formar timeline de cores (verde/vermelho/cinza)
- Estado NP baseado em np_por_hora_24 (fora de programacao)
- Sem uso de meta/calculos para essa barra
