feat(producao): historico por upsert com contagem ao vivo + timezone Bahia

- padroniza datas/horas no backend em America/Bahia (env TZ ou default)
- historico: garante 30 dias via upsert e sincroniza produzido do dia usando soma de producao_horaria
- evita historico zerado enquanto a maquina esta produzindo (sem depender de fechamento do dia)
