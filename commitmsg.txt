fix(np-repo): migrar schema antigo de nao_programado_horaria para garantir coluna produzido

- ensure_table agora valida colunas existentes via PRAGMA table_info
- se schema antigo for detectado, migra dados para tabela no schema atual
- evita falha silenciosa onde upsert/load "passam" mas np_por_hora_24 nao atualiza
