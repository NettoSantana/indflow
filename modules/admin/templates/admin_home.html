{# 
PATH: modules/admin/templates/admin_home.html
LAST_RECODE: 2026-02-25 08:35 America/Bahia
MOTIVO: Exibir o card de Clientes somente para role superadmin (admin nao ve Clientes).
#}
{% extends "base.html" %}
{% block title %}Admin â€” IndFlow{% endblock %}

{% block content %}
<style>
  .admin-wrap{max-width:1100px;margin:0 auto;padding:24px;}
  .admin-head{display:flex;justify-content:space-between;align-items:flex-start;gap:16px;margin-bottom:16px;}
  .admin-title h1{margin:0 0 6px 0;}
  .admin-title p{margin:0;color:#64748b;}
  .grid{display:grid;grid-template-columns:repeat(12,1fr);gap:14px;}
  .card{grid-column:span 12;background:#ffffff;border:1px solid #e5e7eb;border-radius:14px;padding:16px;min-height:120px;}
  @media (min-width: 720px){ .card{grid-column:span 6;} }
  @media (min-width: 980px){ .card{grid-column:span 4;} }

  .card h2{margin:0 0 8px 0;font-size:18px;}
  .card p{margin:0;color:#64748b;font-size:14px;line-height:1.35;}

  .actions{display:flex;flex-wrap:wrap;gap:10px;margin-top:12px;}
  .btn{display:inline-block;text-decoration:none;font-size:12px;font-weight:700;padding:7px 12px;border-radius:999px;border:1px solid #2563eb;}
  .btn-primary{background:#2563eb;color:#ffffff;}
  .btn-outline{background:#ffffff;color:#2563eb;}
  .note{margin-top:14px;color:#64748b;font-size:13px;}
</style>

<div class="admin-wrap">
  <div class="admin-head">
    <div class="admin-title">
      <h1>Painel Administrativo</h1>
      <p>Escolha um modulo para gerenciar o sistema.</p>
    </div>
  </div>

  <div class="grid">

    <div class="card">
      <h2>Usuarios</h2>
      <p>Criar, ativar/desativar, trocar role e redefinir senha. Limite de 5 usuarios ativos por cliente.</p>
      <div class="actions">
        <a class="btn btn-primary" href="/admin/usuarios/novo">Novo</a>
        <a class="btn btn-outline" href="/admin/usuarios">Listar</a>
      </div>
    </div>

    <div class="card">
      <h2>Devices</h2>
      <p>Visualizar devices, associacoes e informacoes de comunicacao.</p>
      <div class="actions">
        <a class="btn btn-primary" href="/devices/novo">Novo</a>
        <a class="btn btn-outline" href="/devices/">Listar</a>
      </div>
    </div>
    {% set _role = (session.get("role") or "")|lower %}
    {% if _role == "superadmin" %}


    <div class="card">
      <h2>Clientes</h2>
      <p>Gerenciar cadastros de clientes do sistema.</p>
      <div class="actions">
        <a class="btn btn-primary" href="/admin/clientes/novo">Novo</a>
        <a class="btn btn-outline" href="/admin/clientes">Listar</a>
      </div>
        {% endif %}
</div>

  </div>

  <div class="note">
    Role atual: {{ (session.get("role") or "viewer")|lower }}.
  </div>
</div>
{% endblock %}
